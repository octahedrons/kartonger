<table>
  <tbody>
    <tr>
      <th scope="col">Nummer</th>
      <th scope="row"><%= @box.number %></th>
    </tr>
    <tr>
      <td scope="col">Rum</th>
      <td scope="row" width="90%"><%= @box.room %></th>
    </tr>
    <tr>
      <th scope="col">Titel</th>
      <th scope="row"><%= @box.title %></th>
    </tr>
    <tr>
      <th scope="col" style="white-space: nowrap">Packad av</th>
      <th scope="row"><%= @box.packed_by %></th>
    </tr>
    <tr>
      <th scope="col">Skapad</th>
      <th scope="row"><%= @box.created_at %></th>
    </tr>
    <tr>
      <th scope="col" vertical-align="top">Innehåll</th>
      <th scope="row">
        <pre><%= @box.description %></pre>
      </th>
    </tr>
    <% if @box.box_files.any? %>
      <tr>
        <th scope="col" style="vertical-align: top">Filer</th>
        <td scope="row">
          <% @box.box_files.each do |file| %>
            <div style="margin-bottom: 1rem;">
              <% if file.image? %>
                <%= link_to box_box_file_path(@box, file), target: "_blank", data: { turbo: false } do %>
                  <%= image_tag box_box_file_path(@box, file), alt: file.filename, style: "max-width: 150px; max-height: 150px;" %>
                <% end %>
              <% else %>
                <%= link_to file.filename, box_box_file_path(@box, file), target: "_blank", data: { turbo: false } %>
              <% end %>
              <br>
              <small>
                <%= file.filename %> -
                <%= local_time_ago(file.created_at) %> -
                <%= link_to "Ladda ner", box_box_file_path(@box, file, download: true), data: { turbo: false } %>
              </small>
            </div>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<p>
  <%= link_to "Ändra", edit_box_path(@box) %>
  •
  <%= link_to "Ta bort", box_path(@box), data: {
                      turbo_method: :delete,
                      turbo_confirm: "Are you sure?"
                    } %>
</p>

<p>
  Händelser
</p>
<ul>
  <% @box.actions.each do |action| %>
    <li>
      <%= "#{action.in_swedish.capitalize} av #{action.user.capitalize}" %>
      <%= local_time_ago(action.created_at) %>
    </li>
  <% end %>
</ul>
